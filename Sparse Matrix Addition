#include <stdio.h>
int main(){
    int a[10][3],b[10][3],c[20][3];
    int i=1,j=1,k=1,m,n;
    printf("Enter size: "); scanf("%d%d",&m,&n);
    printf("Enter A triplet form: "); scanf("%d",&a[0][2]);
    for(i=1;i<=a[0][2];i++) scanf("%d%d%d",&a[i][0],&a[i][1],&a[i][2]);
    printf("Enter B triplet form: "); scanf("%d",&b[0][2]);
    for(i=1;i<=b[0][2];i++) scanf("%d%d%d",&b[i][0],&b[i][1],&b[i][2]);
    a[0][0]=b[0][0]=m; a[0][1]=b[0][1]=n;
    i=j=1; k=1;
    while(i<=a[0][2] && j<=b[0][2]){
        if(a[i][0]==b[j][0] && a[i][1]==b[j][1]){
            c[k][0]=a[i][0]; c[k][1]=a[i][1]; c[k++][2]=a[i][2]+b[j][2]; i++; j++;
        }else if(a[i][0]<b[j][0]||(a[i][0]==b[j][0]&&a[i][1]<b[j][1])) c[k++][0]=a[i][0],c[k-1][1]=a[i][1],c[k-1][2]=a[i++][2];
        else c[k][0]=b[j][0],c[k][1]=b[j][1],c[k++][2]=b[j++][2];
    }
    c[0][0]=m;c[0][1]=n;c[0][2]=k-1;
    printf("Result triplet:\n");
    for(i=0;i<=c[0][2];i++) printf("%d %d %d\n",c[i][0],c[i][1],c[i][2]);
}
